<!DOCTYPE html>
<html>
<head>
    <title>Chart.js 动态图表的使用</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
    <script src="lzy/assets/vendor/jquery/jquery.min.js"></script>
    <script src="lzy/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="lzy/assets/vendor/jquery.easing/jquery.easing.min.js"></script>
    <script src="lzy/assets/vendor/php-email-form/validate.js"></script>
    <script src="lzy/assets/vendor/waypoints/jquery.waypoints.min.js"></script>
    <script src="lzy/assets/vendor/counterup/counterup.min.js"></script>
    <script src="lzy/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="lzy/assets/vendor/venobox/venobox.min.js"></script>
    <script src="lzy/assets/vendor/owl.carousel/owl.carousel.min.js"></script>
    <script src="lzy/assets/vendor/aos/aos.js"></script>
</head>
<body>
<div>
    <canvas id="myChart" width="500px" height="150px"></canvas>
</div>

<script>



</script>
<script>
    var dataLabls;
    var datavote;
    var a=false;
    $(function () {
        $.ajax({
            url:"findByawardid?id=6187341e-f4eb-4d03-99bc-64a2d878a953",
            type: "get",
            success(res){
                dataLabls=res;
                $.ajax({
                    url:"getvotedata?id=6187341e-f4eb-4d03-99bc-64a2d878a953",
                    type: "get",
                    success(res){
                        datavote=res;
                        var ctx = document.getElementById('myChart').getContext('2d');

                        var data = {
                            datasets: [{
                                data: datavote, //在这里写数据
                                backgroundColor:["red","green","blue"] //在这里指定颜色
                            }],

                            labels: dataLabls
                        };

                        var myPieChart = new Chart(ctx, {
                            type: 'pie',
                            data: data
                        });

                    }
                })

            }
        })

    })


</script>
<script type="text/javascript">


</script>
</body>
</html>